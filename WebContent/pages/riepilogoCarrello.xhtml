<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">

<h:body>

	<h1>Riepilogo articoli</h1>

	<div id="riepilogoArticoli">

		<p:dataView var="articoliEntry" value="#{carrelloBean.articoli}"
			gridIcon="pi pi-th-large" listIcon="pi pi-bars">
			<p:dataViewGridItem style="width:75%;">
				<p:panel header="#{articoliEntry.key.id_articolo}"
					style="text-align:center;height: 10%;" id="carrelloMenu">
					<h:panelGrid columns="1">
						<img
							src="data:image/jpg;base64, #{articoliBean.articoloEImmagini.get(articoliEntry.key).get(0)}"
							alt="Immagine non trovata" style="width: 250px; height: 250px;" />

						<h:outputText value="#{articoliEntry.key.titolo_articolo}" />

						<p:commandLink update="menuForm:tabView:articoloDetail"
							oncomplete="PF('articoloDettaglio').show()"
							title="Visualizza Dettagli">
							<f:setPropertyActionListener value="#{articoliEntry.key}"
								target="#{articoliBean.articoloSelezionato}" />
						</p:commandLink>
					</h:panelGrid>
				</p:panel>
			</p:dataViewGridItem>

			<p:dataViewListItem>
				<h:panelGrid columns="3" style="width:70%"
					columnClasses="logo,detail">
					<img
						src="data:image/jpg;base64, #{articoliBean.articoloEImmagini.get(articoliEntry.key).get(0)}"
						alt="Immagine non trovata" style="width: 250px; height: 250px;" />

					<p:outputPanel>
						<h:panelGrid columns="2" cellpadding="5">
							<h:outputText value="Id:" />
							<h:outputText value="#{articoliEntry.key.id_articolo}"
								style="font-weight: bold" />

							<h:outputText value="Nome:" />
							<h:outputText value="#{articoliEntry.key.titolo_articolo}"
								style="font-weight: bold" />

							<h:outputText value="Prezzo:" />
							<h:outputText value="€ #{articoliEntry.key.prezzo_unitario}"
								style="font-weight: bold" />

							<h:outputText value="Quantità:" />
							<h:outputText value="#{articoliEntry.value}"
								style="font-weight: bold" />

							<p:commandButton value="Rimuovi" ajax="false"
								action="#{carrelloBean.rimuoviArticolo(articoliEntry.key)}">

							</p:commandButton>
						</h:panelGrid>
					</p:outputPanel>

					<p:commandLink update="menuForm:tabView:articoloDetail"
						oncomplete="PF('articoloDettaglio').show()"
						title="Visualizza Dettagli">
						<f:setPropertyActionListener value="#{articoliEntry.key}"
							target="#{articoliBean.articoloSelezionato}" />
					</p:commandLink>
				</h:panelGrid>
			</p:dataViewListItem>
		</p:dataView>

	</div>

</h:body>

</html>