<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets">


<h:head>
	<h:outputStylesheet name="style.css" library="css" />
	<link rel="stylesheet" href="css/style.css" />
	<script type="text/javascript">
    //<![CDATA[
function start() {
    PF('statusDialog').show();
}
 
function stop() {
    PF('statusDialog').hide();
}
    //]]>
</script>
</h:head>

<h:body>
	<div id="pageLayout">
		<p:layout fullPage="true"  styleClass="borderless">
		
			<p:layoutUnit position="north" style="border-color: transparent; background: #06c" gutter="0"  size="136">
				<ui:include src="/pages/header.xhtml" />
			</p:layoutUnit>

			<p:layoutUnit position="center" style="border-color: transparent;" gutter="1" size="5000" maxSize="5000">

					<h:form id="menuForm" enctype="multipart/form-data">
						<p:tabView id="tabView" activeIndex="#{menuBean.tabIndex}">
							<p:ajax event="tabChange"
								listener="#{menuBean.onTabChangeInserimento}" />
							<p:tab title="Home" id="tabHome">
								<ui:include src="/pages/homepage.xhtml" />
							</p:tab>
							<p:tab title="Login" id="tabLogin"
								rendered="#{sessionBean.loggedUser eq null}">
								<ui:include src="/pages/login.xhtml" />
							</p:tab>
							<p:tab title="Registrati" id="tabRegistrazione"
								rendered="#{sessionBean.loggedUser eq null}">
								<ui:include src="/pages/signup.xhtml" />
							</p:tab>
							<p:tab title="Categorie" id="tabCategorie"
								rendered="#{sessionBean.loggedUser != null}" icon="pi pi-star">
								<ui:include src="/pages/categorie.xhtml" />
							</p:tab>
							<p:tab title="Articoli" id="tabArticoli" icon="pi pi-star"
								rendered="#{sessionBean.loggedUser != null}">
								<ui:include src="/pages/articoli.xhtml" />
							</p:tab>
							<p:tab title="Area Riservata" id="tabAreaRiservata"
								icon="pi pi-star" rendered="#{sessionBean.loggedUser.isAdmin}">
								<ui:include src="/pages/areaRiservata.xhtml" />
							</p:tab>
							<p:tab title="Carrello" id="tabCarrello" icon="pi shopping-cart"
								rendered="#{sessionBean.loggedUser != null}">
								<ui:include src="/pages/carrello.xhtml" />
							</p:tab>
							<p:tab title="Ordine" id="tabOrdine" icon="pi shopping-cart"
								rendered="#{menuBean.visibileOrdine}">
								<ui:include src="/pages/ordine.xhtml" />
							</p:tab>
							<p:tab title="Logout" icon="pi pi-star" id="tabLogout"
								rendered="#{sessionBean.loggedUser != null}">
							</p:tab>
						</p:tabView>
					</h:form>
			</p:layoutUnit>

			<p:layoutUnit position="south" style="border-color: transparent;background: #5a5a5a" gutter="0" size="90">
				<footer class="footer">
					<h1>Ferramenta Footer</h1>
				</footer>

			</p:layoutUnit>
		</p:layout>
	</div>

</h:body>
</html>